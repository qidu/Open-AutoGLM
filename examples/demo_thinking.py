#!/usr/bin/env python3
"""
æ¼”ç¤º thinking è¾“å‡ºçš„ç¤ºä¾‹

è¿™ä¸ªè„šæœ¬å±•ç¤ºäº†åœ¨ verbose æ¨¡å¼ä¸‹ï¼ŒAgent ä¼šåŒæ—¶è¾“å‡ºæ€è€ƒè¿‡ç¨‹å’Œæ‰§è¡ŒåŠ¨ä½œã€‚
"""

from phone_agent import PhoneAgent
from phone_agent.agent import AgentConfig
from phone_agent.model import ModelConfig


def main():
    print("=" * 60)
    print("Phone Agent - Thinking è¾“å‡ºæ¼”ç¤º")
    print("=" * 60)

    # é…ç½®æ¨¡å‹
    model_config = ModelConfig(
        base_url="http://localhost:8000/v1",
        model_name="autoglm-phone-9b",
        temperature=0.1,
    )

    # é…ç½® Agent (verbose=True ä¼šè¾“å‡ºè¯¦ç»†ä¿¡æ¯)
    agent_config = AgentConfig(
        max_steps=10,
        verbose=True,  # å¼€å¯è¯¦ç»†è¾“å‡º
    )

    # åˆ›å»º Agent
    agent = PhoneAgent(
        model_config=model_config,
        agent_config=agent_config,
    )

    # æ‰§è¡Œä»»åŠ¡
    print("\nğŸ“± å¼€å§‹æ‰§è¡Œä»»åŠ¡...\n")
    result = agent.run("æ‰“å¼€å°çº¢ä¹¦æœç´¢ç¾é£Ÿæ”»ç•¥")

    print("\n" + "=" * 60)
    print(f"ğŸ“Š æœ€ç»ˆç»“æœ: {result}")
    print("=" * 60)


if __name__ == "__main__":
    """
    è¿è¡Œæ­¤è„šæœ¬ï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹æ ¼å¼çš„è¾“å‡ºï¼š

    ==================================================
    ğŸ’­ æ€è€ƒè¿‡ç¨‹:
    --------------------------------------------------
    å½“å‰åœ¨ç³»ç»Ÿæ¡Œé¢ï¼Œéœ€è¦å…ˆå¯åŠ¨å°çº¢ä¹¦åº”ç”¨ï¼Œç„¶åè¿›è¡Œæœç´¢
    --------------------------------------------------
    ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:
    {
      "_metadata": "do",
      "action": "Launch",
      "app": "å°çº¢ä¹¦"
    }
    ==================================================

    (æ‰§è¡Œåä¼šç»§ç»­ä¸‹ä¸€æ­¥...)

    ==================================================
    ğŸ’­ æ€è€ƒè¿‡ç¨‹:
    --------------------------------------------------
    å°çº¢ä¹¦å·²æ‰“å¼€ï¼Œç°åœ¨éœ€è¦ç‚¹å‡»æœç´¢æ¡†å¹¶è¾“å…¥å…³é”®è¯
    --------------------------------------------------
    ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:
    {
      "_metadata": "do",
      "action": "Tap",
      "element": [500, 100]
    }
    ==================================================

    ... (æ›´å¤šæ­¥éª¤)

    ğŸ‰ ================================================
    âœ… ä»»åŠ¡å®Œæˆ: å·²æˆåŠŸæœç´¢ç¾é£Ÿæ”»ç•¥
    ==================================================
    """
    main()
